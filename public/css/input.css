@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== CSS Variables for compatibility ===== */
:root {
    --color-rosewater: #f5e0dc;
    --color-flamingo: #f2cdcd;
    --color-pink: #f5c2e7;
    --color-mauve: #cba6f7;
    --color-red: #f38ba8;
    --color-maroon: #eba0ac;
    --color-peach: #fab387;
    --color-yellow: #f9e2af;
    --color-green: #a6e3a1;
    --color-teal: #94e2d5;
    --color-sky: #89dceb;
    --color-sapphire: #74c7ec;
    --color-blue: #89b4fa;
    --color-lavender: #b4befe;
    --color-text: #cdd6f4;
    --color-subtext1: #bac2de;
    --color-subtext0: #a6adc8;
    --color-overlay2: #9399b2;
    --color-overlay1: #7f849c;
    --color-overlay0: #6c7086;
    --color-surface2: #585b70;
    --color-surface1: #45475a;
    --color-surface0: #313244;
    --color-base: #1e1e2e;
    --color-mantle: #181825;
    --color-crust: #11111b;
    --color-primary: #cba6f7;
    --color-accent: #b4befe;
    --color-success: #a6e3a1;
    --color-warning: #f9e2af;
    --color-danger: #f38ba8;
    --primary: #cba6f7;
    --text-muted: #a6adc8;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;
    --radius-sm: 6px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
    --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.2);
    --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.25);
}

/* ===== Base Styles ===== */
@layer base {
    html {
        scroll-behavior: smooth;
        @apply bg-base text-text;
    }

    body {
        font-family: 'Outfit', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        @apply min-h-screen antialiased leading-relaxed;
    }

    ::selection {
        @apply bg-primary text-crust;
    }

    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        background: #313244;
        border-radius: 9999px;
    }

    ::-webkit-scrollbar-thumb {
        background: #585b70;
        border-radius: 9999px;
        border: 2px solid #313244;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #cba6f7;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply font-semibold tracking-tight leading-tight text-text;
    }

    a {
        @apply text-primary no-underline transition-colors hover:text-accent;
    }

    input,
    textarea,
    select {
        @apply bg-surface0 text-text border border-surface1 rounded-md;
        font-family: inherit;
    }

    input:focus,
    textarea:focus,
    select:focus {
        @apply outline-none border-primary ring-2 ring-primary/20;
    }

    button {
        font-family: inherit;
        @apply cursor-pointer bg-transparent border-none;
    }

    input::placeholder,
    textarea::placeholder {
        @apply text-overlay0;
    }
}

/* ===== Components ===== */
@layer components {
    .container {
        @apply max-w-7xl mx-auto px-4 md:px-6;
    }

    .hidden {
        display: none !important;
    }

    /* Navbar */
    .navbar {
        @apply h-[72px] sticky top-0 z-[100] backdrop-blur-md border-b border-surface1;
        background: rgba(24, 24, 37, 0.8);
    }

    .navbar .container {
        @apply flex items-center gap-8 h-full;
    }

    .navbar-brand {
        @apply text-2xl font-extrabold text-primary;
    }

    .navbar-nav {
        @apply hidden md:flex items-center gap-6 list-none m-0 p-0;
    }

    .navbar-nav a {
        @apply text-[15px] font-medium text-subtext0 hover:text-text transition-colors;
    }

    .navbar-user {
        @apply flex items-center gap-3 ml-auto;
    }

    .points-badge {
        @apply inline-flex items-center gap-1 px-4 py-2 rounded-full text-sm font-bold text-crust h-9;
        background: linear-gradient(135deg, #f9e2af, #fab387);
    }

    .user-avatar-btn {
        @apply w-[38px] h-[38px] rounded-full font-extrabold border-2 border-transparent transition-all flex items-center justify-center text-[15px] cursor-pointer bg-primary text-crust shadow-sm;
    }

    .user-avatar-btn:hover {
        @apply scale-105;
        box-shadow: 0 0 25px rgba(203, 166, 247, 0.4);
    }

    /* Buttons */
    .btn {
        @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 text-[15px] font-semibold rounded-md border-none cursor-pointer transition-all whitespace-nowrap;
    }

    .btn:hover {
        @apply -translate-y-0.5 shadow-md;
    }

    .btn:active {
        @apply translate-y-0 shadow-none;
    }

    .btn-primary {
        @apply bg-primary text-crust hover:bg-accent;
    }

    .btn-secondary {
        @apply bg-transparent text-text border border-surface1 hover:bg-surface0 hover:border-surface2;
    }

    .btn-danger {
        @apply bg-red text-crust hover:bg-maroon;
    }

    .btn-sm {
        @apply px-3 py-1.5 text-[13px];
    }

    .btn-lg {
        @apply px-8 py-3.5 text-base;
    }

    /* Forms */
    .form-group {
        @apply flex flex-col gap-2 mb-5;
    }

    .form-label {
        @apply text-sm font-semibold text-subtext0;
    }

    .form-control {
        @apply w-full px-4 py-3 text-[15px] bg-surface0 text-text border border-surface1 rounded-md transition-all;
    }

    .form-control:focus {
        @apply outline-none border-primary ring-2 ring-primary/20;
    }

    .form-control::placeholder {
        @apply text-overlay0;
    }

    /* Cards */
    .card {
        @apply bg-surface0 border border-surface1 rounded-lg overflow-hidden transition-all cursor-pointer;
    }

    .card:hover {
        @apply -translate-y-1 border-surface2;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    }

    .card-img {
        @apply w-full h-[160px] object-cover;
    }

    .card-body {
        @apply p-4;
    }

    .card-title {
        @apply text-base font-semibold text-text mb-1 line-clamp-2;
    }

    .card-instructor {
        @apply text-sm text-subtext0 mb-2;
    }

    .card-price {
        @apply flex items-center gap-2 mt-3;
    }

    .price-current {
        @apply text-lg font-bold;
    }

    .wishlist-btn {
        @apply absolute top-3 right-3 w-8 h-8 rounded-full bg-surface0/80 backdrop-blur-sm border border-surface1 flex items-center justify-center cursor-pointer transition-all z-10;
    }

    .wishlist-btn:hover {
        @apply bg-red/20 border-red text-red;
    }

    .wishlist-btn.active {
        @apply bg-red text-crust border-red;
    }

    /* Grid */
    .courses-grid {
        @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
    }

    /* Tables */
    .table-container {
        @apply w-full overflow-x-auto rounded-lg bg-surface0 border border-surface1;
    }

    .table {
        @apply w-full border-collapse text-left;
    }

    .table th {
        @apply bg-mantle p-4 text-[13px] font-bold uppercase tracking-wide text-subtext0 border-b-2 border-surface1;
    }

    .table td {
        @apply p-4 text-sm text-text border-b border-surface1 align-middle;
    }

    .table tbody tr:hover {
        @apply bg-mantle/50;
    }

    .role-badge {
        @apply px-3 py-1 rounded-full text-xs font-bold;
    }

    .role-badge.super_admin {
        @apply bg-red/20 text-red;
    }

    .role-badge.teacher {
        @apply bg-primary/20 text-primary;
    }

    .role-badge.learner {
        @apply bg-green/20 text-green;
    }

    /* Panels */
    .panel {
        @apply bg-surface0 border border-surface1 rounded-lg p-6 shadow-md;
    }

    .panel-header {
        @apply flex items-center justify-between mb-4 pb-3 border-b border-surface1;
    }

    .panel-title {
        @apply text-lg font-semibold text-text;
    }

    /* Page Hero */
    .page-hero {
        @apply py-12 text-center;
        background: linear-gradient(135deg, #313244 0%, #181825 100%);
    }

    .page-hero h1 {
        @apply text-4xl font-bold text-text mb-3;
    }

    .page-hero p {
        @apply text-lg text-white/90 leading-relaxed;
    }

    /* Search/Filters */
    .search-section {
        @apply py-4 border-b border-surface1;
        background: rgba(24, 24, 37, 0.5);
    }

    .filter-row {
        @apply flex flex-wrap gap-4 items-center;
    }

    .filter-search {
        @apply flex-1 min-w-[180px] max-w-[300px] px-4 py-2.5 pl-10 text-[15px] font-medium bg-surface0 text-text border border-surface1 rounded-md transition-all;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236c7086' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: 12px center;
    }

    .filter-search:focus {
        @apply outline-none border-primary ring-2 ring-primary/20;
    }

    .filter-select {
        @apply px-4 py-2.5 text-[15px] font-medium bg-surface0 text-text border border-surface1 rounded-md transition-all min-w-[150px];
    }

    .filter-select:focus {
        @apply outline-none border-primary ring-2 ring-primary/20;
    }

    .mobile-filter-toggle {
        @apply hidden md:hidden items-center gap-2 px-4 py-2 bg-surface0 border border-surface1 rounded-md text-sm font-medium text-subtext0;
    }

    .results-count {
        @apply text-sm text-subtext0 mb-4;
    }

    /* Auth */
    .auth-container {
        @apply min-h-screen flex items-center justify-center p-4;
    }

    .auth-right {
        @apply flex items-center justify-center w-full;
    }

    .auth-box {
        @apply w-full max-w-[440px] p-8 rounded-xl border border-surface1;
        background: #313244;
        box-shadow: 0 16px 48px rgba(0, 0, 0, 0.25);
    }

    .auth-logo {
        @apply text-2xl font-extrabold text-primary block text-center mb-6;
    }

    .auth-box h2 {
        @apply text-2xl font-bold text-center text-text mb-1;
    }

    .auth-box .subtitle {
        @apply text-center text-subtext0 mb-6;
    }

    .auth-divider {
        @apply flex items-center gap-6 my-6 text-subtext0;
    }

    .auth-divider::before,
    .auth-divider::after {
        content: '';
        @apply flex-1 h-px bg-surface1;
    }

    .auth-footer {
        @apply text-center text-sm text-subtext0 mt-6;
    }

    .auth-footer a {
        @apply text-primary font-medium hover:text-accent;
    }

    /* Empty/Loading States */
    .empty-state {
        @apply flex flex-col items-center justify-center py-16 text-center;
    }

    .empty-state h3 {
        @apply text-xl font-semibold text-text mb-2;
    }

    .empty-state p {
        @apply text-subtext0;
    }

    .spinner {
        @apply w-10 h-10 border-4 border-surface1 rounded-full;
        border-top-color: #cba6f7;
        animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    /* Pagination */
    .pagination {
        @apply flex items-center justify-center gap-2 mt-8;
    }

    .pagination-btn {
        @apply w-10 h-10 flex items-center justify-center rounded-md bg-surface0 border border-surface1 text-text text-sm font-medium transition-all;
    }

    .pagination-btn:hover:not(:disabled) {
        @apply bg-surface1 border-primary text-primary;
    }

    .pagination-btn:disabled {
        @apply opacity-50 cursor-not-allowed;
    }

    .pagination-info {
        @apply text-sm text-subtext0 mx-4;
    }

    /* Toast */
    .toast-container {
        @apply fixed bottom-6 right-6 z-[1000] flex flex-col gap-3;
    }

    .toast {
        @apply px-5 py-3 rounded-lg text-sm font-medium shadow-lg flex items-center gap-3 bg-surface0 text-text border border-surface1 animate-slideIn;
    }

    .toast.success {
        @apply border-green bg-green/10 text-green;
    }

    .toast.error {
        @apply border-red bg-red/10 text-red;
    }

    @keyframes slideIn {
        from {
            opacity: 0;
            transform: translateX(100%);
        }

        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    /* Mobile Bottom Nav */
    .mobile-bottom-nav {
        @apply fixed bottom-0 left-0 right-0 h-16 bg-mantle border-t border-surface1 z-50 hidden;
        padding-bottom: env(safe-area-inset-bottom);
    }

    @media (max-width: 768px) {
        .mobile-bottom-nav {
            @apply flex justify-around items-center;
        }
    }

    .nav-item {
        @apply flex flex-col items-center justify-center gap-1 text-subtext0 transition-colors;
    }

    .nav-item.active {
        @apply text-primary;
    }

    .nav-icon {
        @apply text-xl;
    }

    .nav-label {
        @apply text-[10px] font-medium;
    }

    /* Profile */
    .dashboard-grid {
        @apply grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-6 items-start;
    }

    .profile-header {
        @apply p-8 rounded-xl border border-surface1 flex items-center gap-6 mb-6;
        background: linear-gradient(135deg, #313244 0%, #181825 100%);
    }

    .profile-avatar {
        @apply w-24 h-24 rounded-full bg-primary text-4xl font-bold text-crust flex items-center justify-center flex-shrink-0;
    }

    .profile-info h1 {
        @apply text-2xl font-bold text-text mb-1;
    }

    .profile-info p {
        @apply text-subtext0;
    }

    .stats-grid {
        @apply grid grid-cols-2 md:grid-cols-4 gap-4 mb-6;
    }

    .stat-card {
        @apply p-5 rounded-lg bg-mantle border border-surface1 text-center transition-all;
    }

    .stat-card:hover {
        @apply border-primary;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    }

    .stat-card-icon {
        @apply w-12 h-12 mx-auto mb-3 rounded-xl flex items-center justify-center text-xl;
        background: rgba(203, 166, 247, 0.12);
    }

    .stat-card-value {
        @apply text-2xl font-bold text-text mb-1;
    }

    .stat-card-label {
        @apply text-xs font-medium text-subtext0 uppercase tracking-wider;
    }

    /* Course Editor */
    .manage-layout {
        @apply grid grid-cols-1 lg:grid-cols-[300px_1fr] gap-8 mt-8;
    }

    .sidebar-list {
        @apply bg-surface0 border border-surface1 rounded-lg overflow-hidden;
    }

    .sidebar-header {
        @apply p-4 bg-mantle border-b border-surface1 flex justify-between items-center;
    }

    .sidebar-title {
        @apply text-xs font-bold uppercase tracking-wider text-overlay0;
    }

    .editor-panel {
        @apply bg-surface0 border border-surface1 rounded-lg p-8 shadow-md;
    }

    .course-list-item,
    .lesson-list-item {
        @apply p-4 border-b border-surface1 cursor-pointer transition-all hover:bg-mantle;
    }

    .course-list-item.active,
    .lesson-list-item.active {
        @apply bg-primary/5 border-l-4 border-l-primary;
    }

    .add-lesson-btn {
        @apply w-full p-4 border-2 border-dashed border-surface1 rounded-lg text-subtext0 transition-all mt-4 hover:border-primary/50 hover:text-primary;
    }

    /* In-Person Search */
    .search-card {
        @apply bg-surface0 rounded-xl p-6 shadow-lg border border-surface1;
    }

    .search-inputs {
        @apply grid grid-cols-1 md:grid-cols-[1fr_1fr_auto] gap-4 items-end;
    }

    .input-group {
        @apply flex flex-col gap-1;
    }

    .input-group label {
        @apply text-[13px] font-semibold text-overlay0 uppercase tracking-wider;
    }

    .input-wrapper {
        @apply relative;
    }

    .input-icon {
        @apply absolute left-3 top-1/2 -translate-y-1/2 text-lg;
    }

    .input-wrapper input {
        @apply w-full py-2.5 pl-11 pr-3 border border-surface1 rounded-md text-[15px] bg-surface0 text-text transition-all h-12;
    }

    .input-wrapper input:focus {
        @apply outline-none border-primary ring-2 ring-primary/20;
    }

    .search-btn {
        @apply flex items-center justify-center gap-2 px-6 h-12 bg-primary text-crust rounded-md text-[15px] font-bold cursor-pointer transition-all whitespace-nowrap min-w-[160px];
    }

    .search-btn:hover {
        @apply -translate-y-0.5 shadow-lg;
    }

    .btn-icon {
        @apply text-xl transition-transform;
    }

    .search-btn:hover .btn-icon {
        @apply translate-x-1;
    }

    .quick-tags {
        @apply flex items-center gap-2 mt-4 flex-wrap;
    }

    .tag-label {
        @apply text-[13px] text-overlay0 font-medium;
    }

    .quick-tag {
        @apply px-4 py-1 bg-surface0 border border-surface1 rounded-full text-[13px] text-subtext0 cursor-pointer transition-all;
    }

    .quick-tag:hover {
        @apply bg-primary/15 text-primary border-primary -translate-y-0.5;
    }

    .results-section {
        @apply py-6;
    }

    .results-header {
        @apply flex items-center justify-between mb-4;
    }

    .results-header h2 {
        @apply text-2xl font-semibold;
    }

    .places-grid {
        @apply flex flex-col;
    }

    .place-card-row {
        @apply flex gap-4 p-4 bg-transparent border-b border-surface1 transition-colors cursor-pointer hover:bg-surface0/50;
    }

    .place-card-image {
        @apply w-24 h-16 rounded-lg object-cover flex-shrink-0 bg-surface1;
    }

    .place-card-content {
        @apply flex-1 min-w-0;
    }

    .place-card-title {
        @apply text-base font-semibold text-text mb-1 line-clamp-1;
    }

    .place-card-address {
        @apply text-sm text-subtext0 mb-2 line-clamp-1;
    }

    .place-card-meta {
        @apply flex items-center gap-3 text-sm text-overlay0;
    }

    .initial-state,
    .loading-state {
        @apply flex flex-col items-center justify-center text-center py-20;
    }

    .initial-state h3,
    .loading-state p {
        @apply text-lg text-text mb-2;
    }

    .initial-state p {
        @apply text-subtext0 max-w-md;
    }

    /* Skeleton Loading */
    .skeleton-grid {
        @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6;
    }

    .skeleton-card {
        @apply bg-surface0 border border-surface1 rounded-lg overflow-hidden;
    }

    .skeleton-img {
        @apply w-full h-[160px] bg-surface1 animate-pulse;
    }

    .skeleton-body {
        @apply p-4 flex flex-col gap-3;
    }

    .skeleton-line {
        @apply h-4 rounded bg-surface1 animate-pulse;
    }

    .skeleton-line.title {
        @apply w-4/5 h-5;
    }

    .skeleton-line.subtitle {
        @apply w-3/5;
    }

    .skeleton-line.meta {
        @apply w-2/3;
    }

    .skeleton-line.price {
        @apply w-1/4 h-5 mt-2;
    }

    /* Icon System */
    .icon {
        @apply inline-flex items-center justify-center w-[1em] h-[1em] align-middle;
    }

    .icon svg {
        @apply w-full h-full fill-current;
    }

    .icon-sm {
        font-size: 14px;
    }

    .icon-md {
        font-size: 18px;
    }

    .icon-lg {
        font-size: 24px;
    }

    .icon-xl {
        font-size: 32px;
    }

    .icon-2xl {
        font-size: 48px;
    }

    .icon-search::before,
    .icon-location::before,
    .icon-building::before,
    .icon-graduation::before,
    .icon-book::before,
    .icon-books::before,
    .icon-check::before,
    .icon-clock::before,
    .icon-trophy::before,
    .icon-star::before,
    .icon-phone::before,
    .icon-globe::before,
    .icon-lock::before,
    .icon-quiz::before,
    .icon-points::before {
        content: '';
        @apply inline-block w-[1em] h-[1em] bg-contain bg-no-repeat;
    }

    .icon-search::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236c7086' stroke-width='2'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cpath d='m21 21-4.35-4.35'/%3E%3C/svg%3E");
    }

    .icon-location::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23cba6f7' stroke-width='2'%3E%3Cpath d='M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E");
    }

    .icon-graduation::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23cba6f7' stroke-width='2'%3E%3Cpath d='M22 10v6M2 10l10-5 10 5-10 5z'/%3E%3Cpath d='M6 12v5c3 3 9 3 12 0v-5'/%3E%3C/svg%3E");
    }

    .icon-books::before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23cba6f7' stroke-width='2'%3E%3Cpath d='M4 19.5A2.5 2.5 0 0 1 6.5 17H20'/%3E%3Cpath d='M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z'/%3E%3Cpath d='M8 7h8'/%3E%3Cpath d='M8 11h8'/%3E%3C/svg%3E");
    }

    /* Chatbot */
    .chatbot-trigger {
        @apply fixed w-[45px] h-[45px] bg-primary rounded-full shadow-lg cursor-pointer z-[9999] flex items-center justify-center border-none;
        bottom: 30px;
        right: 30px;
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s ease;
    }

    .chatbot-trigger:hover {
        transform: scale(1.1);
    }

    .chatbot-trigger.idle {
        opacity: 0.4;
    }

    .chatbot-trigger.idle:hover {
        opacity: 1;
    }

    .chatbot-trigger.active {
        opacity: 1 !important;
    }

    .chatbot-trigger svg {
        @apply w-[22px] h-[22px] fill-crust transition-opacity;
    }

    .chatbot-trigger.active .icon-chat {
        opacity: 0;
        display: none;
    }

    .chatbot-trigger .icon-close {
        display: none;
        opacity: 0;
    }

    .chatbot-trigger.active .icon-close {
        display: block;
        opacity: 1;
    }

    .chatbot-panel {
        @apply fixed w-[380px] h-[500px] rounded-2xl shadow-lg flex flex-col z-[9999] opacity-0 pointer-events-none;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%) translateY(20px) scale(0.95);
        background: rgba(30, 30, 46, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
    }

    .chatbot-panel.active {
        opacity: 1;
        transform: translateX(-50%) translateY(0) scale(1);
        pointer-events: all;
    }

    .ai-chat-header {
        @apply p-4 flex items-center justify-between border-b border-surface1/10;
    }

    .ai-chat-close-btn {
        @apply bg-transparent border-none p-2 cursor-pointer text-subtext0 flex items-center justify-center rounded-lg transition-all;
    }

    .ai-chat-close-btn:hover {
        background: rgba(255, 255, 255, 0.1);
        @apply text-text;
    }

    .ai-chat-close-btn svg {
        @apply w-5 h-5 fill-current;
    }

    .ai-chat-title {
        @apply flex items-center gap-2.5;
    }

    .ai-chat-avatar {
        @apply w-8 h-8 rounded-full flex items-center justify-center text-base font-bold text-crust;
        background: linear-gradient(135deg, #cba6f7, #89b4fa);
    }

    .ai-chat-info h3 {
        @apply text-base font-semibold m-0 text-text;
    }

    .ai-chat-info span {
        @apply text-xs text-subtext0 block;
    }

    .ai-chat-messages {
        @apply flex-1 overflow-y-auto p-5 flex flex-col gap-3;
        scroll-behavior: smooth;
    }

    .ai-message {
        @apply max-w-[80%] py-2.5 px-3.5 rounded-xl text-sm leading-relaxed break-words;
        animation: fadeIn 0.3s ease;
    }

    .ai-message.bot {
        @apply self-start bg-surface0 text-text;
        border-bottom-left-radius: 2px;
    }

    .ai-message.user {
        @apply self-end bg-primary text-crust font-medium;
        border-bottom-right-radius: 2px;
    }

    .ai-message.loading {
        @apply bg-surface0 w-[60px] h-9 flex items-center justify-center gap-1;
    }

    .typing-dot {
        @apply w-1.5 h-1.5 bg-subtext0 rounded-full;
        animation: typing 1.4s infinite ease-in-out both;
    }

    .typing-dot:nth-child(1) {
        animation-delay: -0.32s;
    }

    .typing-dot:nth-child(2) {
        animation-delay: -0.16s;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(5px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes typing {

        0%,
        80%,
        100% {
            transform: scale(0);
        }

        40% {
            transform: scale(1);
        }
    }

    .ai-chat-input-area {
        @apply p-4 flex gap-2.5 items-end border-t border-surface1/10;
    }

    .ai-chat-input {
        @apply flex-1 rounded-xl py-2.5 px-3.5 text-text text-sm resize-none max-h-[100px] outline-none transition-colors;
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.1);
        font-family: inherit;
    }

    .ai-chat-input:focus {
        @apply border-primary;
    }

    .ai-chat-send-btn {
        @apply w-10 h-10 bg-primary border-none rounded-full flex items-center justify-center cursor-pointer transition-transform text-crust;
    }

    .ai-chat-send-btn:hover {
        transform: scale(1.05);
    }

    .ai-chat-send-btn:disabled {
        @apply bg-surface0 cursor-not-allowed text-subtext0;
        transform: none;
    }

    .ai-message.bot p {
        @apply m-0 mb-2;
    }

    .ai-message.bot p:last-child {
        @apply mb-0;
    }

    .ai-message.bot code {
        @apply py-0.5 px-1 rounded font-mono text-[13px];
        background: rgba(0, 0, 0, 0.3);
    }

    .ai-message.bot pre {
        @apply p-2.5 rounded-lg overflow-x-auto my-2;
        background: rgba(0, 0, 0, 0.3);
    }

    .ai-message.bot pre code {
        background: transparent;
        @apply p-0;
    }

    /* Splash Screen */
    .splash-screen {
        @apply fixed inset-0 z-[9999] flex items-center justify-center overflow-hidden;
        background: #1e1e2e;
    }

    .splash-background {
        @apply absolute inset-0;
    }

    .splash-gradient {
        @apply absolute inset-[-50%] w-[200%] h-[200%];
        background: radial-gradient(ellipse at 30% 20%, rgba(203, 166, 247, 0.12) 0%, transparent 50%), radial-gradient(ellipse at 70% 60%, rgba(180, 190, 254, 0.08) 0%, transparent 50%), radial-gradient(ellipse at 50% 80%, rgba(137, 180, 250, 0.06) 0%, transparent 50%);
        animation: bgMove 20s ease-in-out infinite;
    }

    @keyframes bgMove {

        0%,
        100% {
            transform: translate(0) rotate(0);
        }

        25% {
            transform: translate(-5%, 5%) rotate(1deg);
        }

        50% {
            transform: translateY(10%) rotate(0);
        }

        75% {
            transform: translate(5%, 5%) rotate(-1deg);
        }
    }

    .splash-content {
        @apply relative z-10 text-center flex flex-col items-center;
        animation: splashFadeIn 1s ease-out;
    }

    @keyframes splashFadeIn {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }

        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    .splash-logo-container {
        @apply relative mb-8;
    }

    .splash-logo {
        @apply text-6xl font-extrabold text-primary relative z-10;
        animation: logoGlow 3s ease-in-out infinite;
    }

    @keyframes logoGlow {

        0%,
        100% {
            filter: brightness(1);
        }

        50% {
            filter: brightness(1.1);
        }
    }

    .splash-progress-container {
        @apply relative w-60;
    }

    .splash-progress-track {
        @apply w-full h-1 rounded-full overflow-hidden bg-surface1;
    }

    .splash-progress-bar {
        @apply h-full rounded-full w-0;
        background: linear-gradient(90deg, #cba6f7, #b4befe, #89b4fa);
        animation: splashProgress 2.5s ease-in-out forwards;
    }

    @keyframes splashProgress {
        0% {
            width: 0%;
        }

        50% {
            width: 70%;
        }

        100% {
            width: 100%;
        }
    }

    .splash-text {
        @apply mt-4 text-sm font-medium text-subtext0;
        animation: textPulse 2s ease-in-out infinite;
    }

    @keyframes textPulse {

        0%,
        100% {
            opacity: 0.7;
        }

        50% {
            opacity: 1;
        }
    }
}

/* Responsive */
@media (max-width: 768px) {
    .navbar {
        @apply h-16;
    }

    .navbar-nav {
        @apply hidden;
    }

    .mobile-filter-toggle {
        @apply flex;
    }

    .filter-row {
        @apply flex-col items-stretch gap-3 hidden;
    }

    .filter-row.show {
        @apply flex;
    }

    .filter-search,
    .filter-select {
        @apply w-full max-w-none min-w-0 h-12;
    }

    .container {
        @apply max-w-full px-4 overflow-x-hidden;
    }

    .page-hero {
        @apply py-8 text-center;
    }

    .page-hero h1 {
        @apply text-2xl;
    }

    .page-hero p {
        @apply text-sm;
    }

    .dashboard-grid {
        @apply grid-cols-1;
    }

    .profile-header {
        @apply p-5 text-left flex-col items-start;
    }

    .stats-grid {
        @apply grid-cols-2 gap-3;
    }

    .chatbot-panel {
        width: 94vw;
        height: 70vh;
        bottom: 20px;
        max-height: 80vh;
    }
}

@media (max-width: 500px) {
    .stats-grid {
        @apply grid-cols-1;
    }

    .courses-grid {
        @apply grid-cols-1;
    }
}